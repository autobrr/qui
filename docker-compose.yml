version: '3.8'

services:
  qui:
    image: ghcr.io/autobrr/qui:latest
    container_name: qui
    restart: unless-stopped
    ports:
      - "7476:7476"
    volumes:
      - ./qui:/config
    environment:
      # User/Group ID for file ownership (optional, must set both)
      # When set, the entrypoint will:
      # 1. Create a user/group with the specified IDs
      # 2. Recursively chown /config to PUID:PGID
      # 3. Run qui as that user
      # Leave unset to run as root (container default)
      #PUID: "1000"
      #PGID: "1000"

      # File creation mask (optional)
      # Example: 022 for rw-r--r-- files and rwxr-xr-x dirs
      #UMASK: "022"

      # WARNING: Using 'user:' in compose bypasses the entrypoint's
      # chown and privilege-drop behavior. Use PUID/PGID instead.

      # Server configuration
      # Default: 0.0.0.0 in containers
      #QUI__HOST: "0.0.0.0"
      
      # Port to listen on
      # Default: 7476
      #QUI__PORT: "7476"
      
      # Base URL for serving from subdirectory
      # Example: /qui/ to serve at http://domain.com/qui/
      # Not needed for subdomain or direct port access
      #QUI__BASE_URL: "/qui/"
      
      # Session secret for cookie encryption
      # Auto-generated if not provided
      # Recommended: Set a secure value for production
      #QUI__SESSION_SECRET: "change-me-to-a-secure-secret"
      
      # Logging configuration
      # Options: ERROR, DEBUG, INFO, WARN, TRACE
      # Default: INFO
      #QUI__LOG_LEVEL: "INFO"
      
      # Log file path (inside container)
      # If not defined, logs to stdout
      #QUI__LOG_PATH: "/config/logs/qui.log"